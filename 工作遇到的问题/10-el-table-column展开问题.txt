**el-table实现el-table-column可展开效果**

[参考](https://www.cnblogs.com/mmzuo-798/p/10103348.html)

```
//控制是否是可以展开的行：
<el-table
ref="multipleTable"
:data="policyFileList"
default-expand-all//默认展开
:row-class-name="getRowClass"//使用添加类来控制是否展开的显示和影藏
@row-click="rowClick"
>
    <el-table-column type="expand">
    <template slot-scope="props">
    <el-table
    :data="props.row.userDeclarepAttachmentList"
    stripe
    style="width: 100%"
    :show-header="false"
    >
    ....
	</el-table-cloumn>
</el-table>


//优化点击展开
rowClick(row, event, column) {
	this.$refs.multipleTable.toggleRowExpansion(row)
},
// 判断表格是否有子项，无子项不显示展开按钮
getRowClass(row, rowIndex) {
    if (row.row.userDeclarepAttachmentList.length === 0) {
    	return 'row-expand-cover'
    }
},

//没有子项的时候不显示展开的小箭头
/deep/ .el-table .row-expand-cover .cell .el-table__expand-icon {
  display: none;
}
```



存在的问题：

+ 因为使用了default-expand-all，所以会把没有数据的内容也默认展开了，显示为暂无数据。
+ 解决：

